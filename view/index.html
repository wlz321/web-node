<!DOCTYPE html>
<html>
<head>
    <meta name="referrer" content="no-referrer">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <title>电影列表</title>
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/assets/js/plugins/jquerypage/css/page.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/list.css">
</head>
<body data-page="{{page}}" data-total_page={{total_page}} >
    <div class="container">
        
        <div class="category-list">
            <span class="list-title">影视类型:</span>
            <ul class="list-content">
                <li data-_class="">不限</li>
                <li data-_class="剧情">剧情</li>
                <li data-_class="喜剧">喜剧</li>
                <li data-_class="惊悚">惊悚</li>
                <li data-_class="动作">动作</li>
                <li data-_class="爱情">爱情</li>
                <li data-_class="犯罪">犯罪</li>
                <li data-_class="恐怖">恐怖</li>
                <li data-_class="冒险">冒险</li>
                <li data-_class="悬疑">悬疑</li>
                <li data-_class="科幻">科幻</li>
                <li data-_class="家庭">家庭</li>
                <li data-_class="奇幻">奇幻</li>
                <li data-_class="纪录片">纪录片</li>
                <li data-_class="动画">动画</li>
                <li data-_class="战争">战争</li>
                <li data-_class="历史">历史</li>
                <li data-_class="传记">传记</li>
                <li data-_class="音乐">音乐</li>
                <li data-_class="歌舞">歌舞</li>
                <li data-_class="运动">运动</li>
            </ul>
        </div>
        <ul id="listUl">
            {% for item in items %}
                <li class="liCom">
                    <div class="imgMask">
                        <a href="/movie?id={{item.filmid}}">
                            <img src="{{ item.mainimgsrc }}"/>
                        </a>
                    </div>
                    <div class="liTitle" title="{{ item.maintitle }}">{{ item.maintitle }}</div>
                    <div class="litip">
                        <span>{{ item.year }}</span>
                        <span>{{ item._class }}</span>
                    </div>
                </li>
            {% else %}
                <li>This would display if the 'item' collection were empty</li>
            {% endfor %}
        </ul>
        <div id="pagination" class="page fl"></div>
        <div class="footer">

        </div>
    </div>
    <script type="text/javascript" src="/assets/js/jquery-3.5.1.min.js" ></script>
    <script type="text/javascript" src="/assets/js/bootstrap.min.js" ></script>
    <script type="text/javascript" src="/assets/js/plugins/jquerypage/js/page.js" ></script>
    <script type="text/javascript" src="/assets/js/pagination.js" ></script>
    <script type="text/javascript">
        $(".category-list .list-content li").on('click',function(ev){
            var _class = $(ev.target).data('_class') || '';
            var url = window.location.href;
            if(url.indexOf('?_class')==-1 && url.indexOf('&_class')==-1){
                if(url.indexOf('?') == -1){
                    url += '?_class=' + _class;
                }else{
                    url += '&_class=' + _class;
                }
            }else{
                url = url.replace(/_class=[^&]*/,'_class='+_class);
            }
            window.location.href = url;
        })
    </script>
</body>
</html>
